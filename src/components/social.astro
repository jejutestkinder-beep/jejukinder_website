---
import instagramIcon from '../assets/social_insta.svg';
import youtubeIcon from '../assets/social_youtube.svg';
import naverIcon from '../assets/social_naver.png';

const { platform, username, url, displayName } = Astro.props;
const href = url || `https://www.${platform}.com/${username}`;
const text = displayName || platform;

// 플랫폼별 아이콘 정의
const icons = {
  instagram: instagramIcon,
  youtube: youtubeIcon,
  'naver blog': naverIcon,
  website: null // 기본 아이콘은 SVG로 유지
};

const iconSrc = icons[platform.toLowerCase()];
---
<a href={href} target="_blank" rel="noopener noreferrer" class="group flex items-center gap-2 hover:opacity-80 transition-opacity">
  {iconSrc ? (
    <img src={iconSrc.src} alt={platform} class="w-7 h-7 transition-all duration-300 group-hover:scale-110" />
  ) : (
    <svg class="transition-all duration-300 group-hover:scale-110" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32"><path d="M16,2C8.268,2,2,8.268,2,16s6.268,14,14,14,14-6.268,14-14S23.732,2,16,2ZM8.5,16c0-1.5,.5-3,1-4.5,.5-1,1-2,2-2.5,.5-.5,1.5-.5,2-.5h.5c.5,0,1,.5,1.5,1,.5,.5,.5,1.5,.5,2,0,1-.5,2-1,3-.5,1-1.5,2-2.5,2.5-1,.5-2,.5-3,.5h-.5c-.5,0-.5-.5-.5-1ZM16,28c-2.485,0-4.773-.759-6.682-2.051,.333-1.584,1.336-2.911,2.682-3.575,1.5-.739,3.182-1.151,4.882-1.151,.129,0,.256,.009,.384,.013-.238,.711-.383,1.463-.383,2.248,0,1.911,.793,3.638,2.066,4.867-1.042,.403-2.164,.649-3.349,.649ZM23.5,16c0,1.5-.5,3-1,4.5-.5,1-1,2-2,2.5-.5,.5-1.5,.5-2,.5h-.5c-.5,0-1-.5-1.5-1-.5-.5-.5-1.5-.5-2,0-1,.5-2,1-3,.5-1,1.5-2,2.5-2.5,1-.5,2-.5,3-.5h.5c.5,0,.5,.5,.5,1Z" fill="currentColor"/></svg>
  )}
  <span class="hidden sm:inline">{text}</span>
</a>