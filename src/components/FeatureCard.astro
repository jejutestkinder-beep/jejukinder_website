---
interface Props {
  image?: ImageMetadata;
  title: string;
  description?: string;
  imageAlt?: string;
  titleTag?: 'h3' | 'h4' | 'h5';
  imageSize?: 'large' | 'small';
  cardType?: 'default' | 'image';
}

const { image, title, description, imageAlt = title, titleTag = 'h5', imageSize = 'large', cardType = 'default' } = Astro.props;
const TitleTag = titleTag;

const imageSizeClass = imageSize === 'small' 
  ? 'w-16 h-16 md:w-20 md:h-20' 
  : 'w-32 h-32 md:w-40 md:h-40';
---

{cardType === 'image' ? (
  <div class="w-full">
    {image && (
      <div class="w-full aspect-[4/3] rounded-xl overflow-hidden mb-4">
        <img src={image.src} alt={imageAlt} class="w-full h-full object-cover" />
      </div>
    )}
    <TitleTag>{title}</TitleTag>
  </div>
) : (
  <div class="flex gap-6 items-start">
    {image && (
      <div class={`${imageSizeClass} flex-shrink-0 bg-gray-100 rounded-xl overflow-hidden`}>
        <img src={image.src} alt={imageAlt} class="w-full h-full object-cover" />
      </div>
    )}
    <div class="flex-1">
      <TitleTag class="mb-3">{title}</TitleTag>
      {description && <p set:html={description} />}
    </div>
  </div>
)}

